import{s as R,n as E,r as W,o as H,b as q,d as J,c as D}from"../chunks/scheduler.6tNSTrer.js";import{S as M,i as O,e as y,c as C,a as x,d as k,f as g,x as I,h as T,p as v,y as F,t as j,s as z,m as G,k as A,b as B,n as K,j as P,o as L,l as Q,q as Z,r as $,u as tt,g as V}from"../chunks/index.GojAWPqq.js";import{c as et,a as nt,p as st}from"../chunks/stores.gel0lWqn.js";function at(s){let t,e,o;return{c(){t=y("canvas"),this.h()},l(l){t=C(l,"CANVAS",{width:!0,height:!0}),x(t).forEach(k),this.h()},h(){g(t,"width",s[0]),g(t,"height",s[1]),I(t,"background",s[3])},m(l,n){T(l,t,n),s[11](t),e||(o=[v(window,"resize",s[9]),v(t,"mousedown",s[6]),v(t,"touchstart",s[12]),v(t,"touchend",s[7],{passive:!0}),v(t,"touchmove",s[13]),v(t,"mouseup",s[7]),v(t,"mouseleave",s[7]),v(t,"mousemove",s[8])],e=!0)},p(l,[n]){n&1&&g(t,"width",l[0]),n&2&&g(t,"height",l[1]),n&8&&I(t,"background",l[3])},i:E,o:E,d(l){l&&k(t),s[11](null),e=!1,W(o)}}}function ot(s,t,e){let{width:o}=t,{height:l}=t,{color:n}=t,{background:c="white"}=t,{canvas:i}=t,u,b,h,p,f;H(()=>{u=i.getContext("2d"),X()});const N=({offsetX:a,offsetY:_})=>{u.strokeStyle=n,u.lineWidth=20,u.lineCap="round",u.lineJoin="round",b=!0,h={x:a,y:_}},S=()=>{b=!1},d=({offsetX:a,offsetY:_})=>{if(!b)return;const{x:w,y:U}=h;u.beginPath(),u.moveTo(w,U),u.lineTo(a,_),u.closePath(),u.stroke(),h={x:a,y:_}},X=()=>{e(1,l=i.parentNode.clientHeight),e(0,o=i.parentNode.clientWidth);const{top:a,left:_}=i.getBoundingClientRect();e(4,p=a),e(5,f=_)};function Y(a){q[a?"unshift":"push"](()=>{i=a,e(2,i)})}const r=a=>{const{clientX:_,clientY:w}=a.touches[0];N({offsetX:_-f,offsetY:w-p})},m=a=>{const{clientX:_,clientY:w}=a.touches[0];d({offsetX:_-f,offsetY:w-p})};return s.$$set=a=>{"width"in a&&e(0,o=a.width),"height"in a&&e(1,l=a.height),"color"in a&&e(10,n=a.color),"background"in a&&e(3,c=a.background),"canvas"in a&&e(2,i=a.canvas)},[o,l,i,c,p,f,N,S,d,X,n,Y,r,m]}class lt extends M{constructor(t){super(),O(this,t,ot,at,R,{width:0,height:1,color:10,background:3,canvas:2})}}function rt(s){let t,e="Vote",o,l;return{c(){t=y("a"),t.textContent=e,this.h()},l(n){t=C(n,"A",{class:!0,href:!0,"data-svelte-h":!0}),V(t)!=="svelte-kf0tz8"&&(t.textContent=e),this.h()},h(){g(t,"class","btn-large btn btn-secondary text-2xl"),g(t,"href","./vote")},m(n,c){T(n,t,c),o||(l=v(t,"click",s[6]),o=!0)},p:E,d(n){n&&k(t),o=!1,l()}}}function ct(s){let t,e="Next Round",o,l;return{c(){t=y("button"),t.textContent=e,this.h()},l(n){t=C(n,"BUTTON",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-skmfbx"&&(t.textContent=e),this.h()},h(){g(t,"class","btn-large btn btn-primary text-2xl")},m(n,c){T(n,t,c),o||(l=v(t,"click",s[5]),o=!0)},p:E,d(n){n&&k(t),o=!1,l()}}}function it(s){let t,e="Next Player",o,l;return{c(){t=y("button"),t.textContent=e,this.h()},l(n){t=C(n,"BUTTON",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-15wgi2d"&&(t.textContent=e),this.h()},h(){g(t,"class","btn-large btn btn-neutral text-2xl")},m(n,c){T(n,t,c),o||(l=v(t,"click",s[5]),o=!0)},p:E,d(n){n&&k(t),o=!1,l()}}}function ut(s){let t,e,o,l,n=s[1]+1+"",c,i,u,b,h,p,f;function N(r,m){return r[1]<r[4]-1?it:r[3]?ct:rt}let S=N(s),d=S(s);function X(r){s[7](r)}let Y={color:s[0]};return s[2]!==void 0&&(Y.canvas=s[2]),h=new lt({props:Y}),q.push(()=>F(h,"canvas",X)),{c(){t=y("div"),e=y("div"),o=y("p"),l=j("Player "),c=j(n),i=z(),d.c(),u=z(),b=y("div"),G(h.$$.fragment),this.h()},l(r){t=C(r,"DIV",{class:!0});var m=x(t);e=C(m,"DIV",{class:!0});var a=x(e);o=C(a,"P",{class:!0});var _=x(o);l=A(_,"Player "),c=A(_,n),_.forEach(k),i=B(a),d.l(a),a.forEach(k),u=B(m),b=C(m,"DIV",{class:!0});var w=x(b);K(h.$$.fragment,w),w.forEach(k),m.forEach(k),this.h()},h(){g(o,"class","text-5xl font-bold"),g(e,"class","mt-6 flex w-full items-center justify-around"),g(b,"class","m-6 w-11/12 grow border-8 border-dashed border-black"),g(t,"class","flex min-h-screen flex-col items-center justify-center")},m(r,m){T(r,t,m),P(t,e),P(e,o),P(o,l),P(o,c),P(e,i),d.m(e,null),P(t,u),P(t,b),L(h,b,null),f=!0},p(r,[m]){(!f||m&2)&&n!==(n=r[1]+1+"")&&Q(c,n),S===(S=N(r))&&d?d.p(r,m):(d.d(1),d=S(r),d&&(d.c(),d.m(e,null)));const a={};m&1&&(a.color=r[0]),!p&&m&4&&(p=!0,a.canvas=r[2],J(()=>p=!1)),h.$set(a)},i(r){f||(Z(h.$$.fragment,r),f=!0)},o(r){$(h.$$.fragment,r),f=!1},d(r){r&&k(t),d.d(),tt(h)}}}function ft(s,t,e){let o,l;D(s,nt,f=>e(8,o=f)),D(s,st,f=>e(4,l=f));let n=o[0],c=0,i;const u=()=>{e(1,c++,c),c<l||(e(3,b=!1),e(1,c=0)),e(0,n=o[c])};let b=!0;const h=()=>{et.set(i)};function p(f){i=f,e(2,i)}return[n,c,i,b,l,u,h,p]}class _t extends M{constructor(t){super(),O(this,t,ft,ut,R,{})}}export{_t as component};
